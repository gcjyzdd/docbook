\ProvidesPackage{jstyle}

% BEGIN PACKAGE IMPORT
% =============================================================================
% Import American Society maths
\usepackage[fleqn]{amsmath}
\usepackage{amssymb}
\usepackage{bm}
\usepackage{mathtools}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}


% PFG/TikZ and tikz libraries
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\usepackage{tikz} 
\usetikzlibrary{trees, positioning, arrows, automata, shadows, calc, fit, 
shapes.multipart, shapes.geometric, decorations.pathreplacing, 
decorations.markings, chains, snakes, backgrounds, intersections} 
\usepackage{xifthen}

% Import times lookalike font
%\usepackage{newtxtext}
%\usepackage{newtxmath}
\usepackage{mathptmx} %ptm doesn't have bold math font

\usepackage{calc}
\usepackage[mathcal]{euscript} % Curly maths font
\usepackage{semantic}
\usepackage{bussproofs}
\usepackage{array}
\usepackage{rotating}
\usepackage{multirow} 
\usepackage{stmaryrd}
\usepackage[explicit]{titlesec}


 % For typesetting code.
 % [final] is needed because listings doesn't like draft and renders nothing
\usepackage[final]{listings} 
% =============================================================================

% REMOVE PARAGRAPH INDENTS
\setlength{\parindent}{0in}
\setlength{\parskip}{6pt}


% TIKZ STYLES
% =============================================================================
\tikzstyle{node_sty}=[rectangle, draw=black, thick, fill=black!5,
text width=8em, text centered, drop shadow, anchor=north]
\tikzstyle{node_sty2}=[rectangle, draw=black, thick, fill=black!5,
text centered, drop shadow, anchor=north]
% =============================================================================
\tikzstyle{block_shadow_sty}=[draw=black, thick, fill=black!5, drop shadow]
% =============================================================================
\tikzstyle{edge_sty}=[very thick, draw=black=!70]
% =============================================================================
\tikzstyle{fra_ans_sty}=[rectangle, draw=black, thick, fill=white, 
align=center, minimum width=8em, text centered, anchor=north]
% =============================================================================
\pgfdeclarelayer{background5}
\pgfdeclarelayer{background4}
\pgfdeclarelayer{background3}
\pgfdeclarelayer{background2}
\pgfdeclarelayer{background1}
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfdeclarelayer{foreground1}
\pgfdeclarelayer{foreground2}
\pgfdeclarelayer{foreground3}
\pgfdeclarelayer{foreground4}
\pgfdeclarelayer{foreground5}
\pgfsetlayers{background5,background4,background3,background2,background1,background,main,foreground,foreground1,foreground2,foreground3,foreground4,foreground5}
% =============================================================================



% CHAPTER HEADINGS
% =============================================================================
\titleformat{\chapter}
{\gdef\chapterlabel{}\normalfont\Huge\bfseries}
{\gdef\chapterlabel{\thechapter\ }}{0pt}
{\begin{tikzpicture}[remember picture,overlay]
\node at (current page.north west)
    {\begin{tikzpicture}[remember picture, overlay]
    \draw[fill=black!15, draw=none] (0,0) rectangle (\paperwidth,-2cm);
    \node[anchor=west,xshift=.167\paperwidth,yshift=-4cm,rectangle,inner sep=14pt,fill=black!15] (l) 
    {\chapterlabel};
    \node[anchor=west,right=0.1cm of l,inner sep=11pt,yshift=-0.1cm, text=black!85] {#1};
    \draw[draw=black!85, ultra thick] (3.5cm,-2.6cm) -- (\paperwidth,-2.6cm);
    \draw[draw=black!85, ultra thick] (3.5cm,-5.4cm) -- (\paperwidth,-5.4cm);
    \end{tikzpicture}
    };
\end{tikzpicture}
}
\titlespacing*{\chapter}{0pt}{6pt}{-5pt}


\newcommand{\frmrule}{\rule{\linewidth}{0.1mm}}

%\newcommand{\framehrule}{
%	\begin{tikzpicture} [every node/.style={fra_ans_sty}]
%	\draw[line cap=rect] (0,0) -- (\linewidth-\pgflinewidth, 0);
%	\end{tikzpicture}
%}

\newcommand{\framehrule}{
}


\newcommand{\highlightdef}[1] {
	\par\begin{minipage}{\textwidth}
	\frmrule ~\\[0cm]
	\centering{#1} \\[-0.2cm]
	\frmrule
	\end{minipage} \par
}


% =============================================================================
\newcommand{\frameans}[2]{
	{\raggedleft \textit{#1}\\}
	\begin{tikzpicture} [every node/.style={fra_ans_sty}]
	\draw[line cap=rect] (0,0) -- (\linewidth-\pgflinewidth,0);
	\node (g1) at (\linewidth/2, -0.2) {#2};
	\end{tikzpicture}
}



% =============================================================================






% =============================================================================
%\newlength{\remaining}
%\newcommand{\titleline}[1]{
%	\setlength{\remaining}{\textwidth-\widthof{\textit{#1}}}
%	\noindent\underline{\raggedright \textit{#1}\hspace*{\remaining}}\par
%}
% =============================================================================

% Example Environment
% -------------------
\newcounter{example_ctr}
\setcounter{example_ctr}{0}
\newenvironment{example} {
	\refstepcounter{example_ctr}
	\textbf{Example \arabic{example_ctr}}\\
}


\lstdefinestyle{doclisting}{
  belowcaptionskip=1\baselineskip,
  breaklines=true,
  xleftmargin=0in,
  showstringspaces=false,
  basicstyle=\footnotesize\ttfamily,
}
\lstset{escapechar=@,style=doclisting}
